<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>URL Slug ç”Ÿæˆå™¨</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .input-box {
            transition: box-shadow 0.2s;
        }

        .input-box:focus-within {
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
            border-color: #6366f1;
        }
    </style>
</head>

<body class="bg-indigo-50 min-h-screen flex flex-col items-center justify-center p-6 text-slate-800">

    <div class="w-full max-w-2xl bg-white p-8 rounded-3xl shadow-xl border border-indigo-100">

        <header class="flex justify-between items-center mb-8">
            <h1 class="text-2xl font-bold text-indigo-700 flex items-center gap-2">
                <span class="text-3xl">ğŸ”—</span> Slug Generator
            </h1>
            <a href="./navigation.html" class="text-sm text-slate-400 hover:text-indigo-600">é€€å‡º</a>
        </header>

        <div class="space-y-6">

            <div>
                <label class="block text-xs font-bold text-slate-400 uppercase mb-2">è¾“å…¥æ ‡é¢˜ (Title)</label>
                <div class="input-box border border-slate-300 rounded-xl bg-white">
                    <input type="text" id="input" class="w-full p-4 rounded-xl outline-none text-lg"
                        placeholder="Hello World! 2026 Update" oninput="generate()">
                </div>
            </div>

            <!-- Options -->
            <div class="flex flex-wrap gap-4 text-sm text-slate-600">
                <label class="flex items-center gap-2 cursor-pointer">
                    <span class="text-xs font-bold uppercase text-slate-400">åˆ†éš”ç¬¦</span>
                    <select id="separator" class="p-1 border rounded bg-slate-50 outline-none" onchange="generate()">
                        <option value="-">- (Hyphen)</option>
                        <option value="_">_ (Underscore)</option>
                        <option value=".">. (Dot)</option>
                    </select>
                </label>

                <label class="flex items-center gap-2 cursor-pointer">
                    <input type="checkbox" id="lowercase" checked onchange="generate()" class="rounded text-indigo-600">
                    <span>å…¨å°å†™</span>
                </label>

                <label class="flex items-center gap-2 cursor-pointer">
                    <input type="checkbox" id="remove-stop" onchange="generate()" class="rounded text-indigo-600">
                    <span>ç§»é™¤åœç”¨è¯ (a, the...)</span>
                </label>

                <label class="flex items-center gap-2 cursor-pointer">
                    <input type="checkbox" id="transliterate" onchange="generate()" class="rounded text-indigo-600">
                    <span>ä¸­æ–‡è½¬æ‹¼éŸ³ (Simple)</span>
                </label>
            </div>

            <!-- Result -->
            <div class="bg-indigo-50 p-6 rounded-2xl border border-indigo-100 relative group cursor-pointer"
                onclick="copySlug()">
                <label class="block text-xs font-bold text-indigo-400 uppercase mb-2">ç”Ÿæˆç»“æœ</label>
                <div id="output" class="text-2xl font-bold text-indigo-900 break-all font-mono">hello-world-2026-update
                </div>
                <div
                    class="absolute top-4 right-4 text-xs font-bold text-indigo-400 opacity-0 group-hover:opacity-100 transition">
                    Click to Copy</div>
            </div>

        </div>

    </div>

    <script>
        const input = document.getElementById('input');
        const output = document.getElementById('output');
        const separatorSelect = document.getElementById('separator');
        const lowercaseCheck = document.getElementById('lowercase');
        const removeStopCheck = document.getElementById('remove-stop');
        const transCheck = document.getElementById('transliterate');

        const stopWords = new Set(['a', 'an', 'the', 'and', 'or', 'of', 'in', 'to', 'for', 'with', 'on', 'at']);

        // Simple map for common pinyin (Demo only, real lib needed for full support)
        // Or we just strip non-ascii if not transliterating?
        // Let's implement a very basic char map for accents
        const charMap = {
            'Ã ': 'a', 'Ã¡': 'a', 'Ã¢': 'a', 'Ã£': 'a', 'Ã¤': 'a', 'Ã¥': 'a', 'Ã²': 'o', 'Ã³': 'o', 'Ã´': 'o', 'Ãµ': 'o', 'Ã¶': 'o', 'Ã¸': 'o', 'Ã¨': 'e', 'Ã©': 'e', 'Ãª': 'e', 'Ã«': 'e', 'Ã§': 'c', 'Ã¬': 'i', 'Ã­': 'i', 'Ã®': 'i', 'Ã¯': 'i', 'Ã¹': 'u', 'Ãº': 'u', 'Ã»': 'u', 'Ã¼': 'u', 'Ã¿': 'y', 'Ã±': 'n'
        };

        function generate() {
            let text = input.value;
            if (!text) {
                output.innerText = "slug-will-appear-here";
                return;
            }

            const sep = separatorSelect.value;
            const toLower = lowercaseCheck.checked;
            const remStop = removeStopCheck.checked;
            const trans = transCheck.checked;

            if (toLower) text = text.toLowerCase();

            // Remove accents
            text = text.replace(/[^\u0000-\u007E]/g, function (a) {
                return charMap[a] || a;
            });

            if (trans) {
                // Very basic fallback: just keep chinese chars? 
                // Or remove them if we can't transliterate without big library?
                // Standard slugify removes non-ascii.
                // Let's assume standard behavior: Keep ASCII numbers and letters.
                // If user wants Chinese preserved, they usually don't use this tool for URL slugs unless encoded.
                // We will just allow unicode letters if not transliterating?
                // Let's stick to standard "ASCII safe" slug by default.
            }

            // Replace non-alphanumeric with separator
            // Allow unicode letters \p{L}
            let regex = /[^\p{L}\p{N}]+/gu;

            // Split
            let words = text.split(regex).filter(w => w);

            if (remStop) {
                words = words.filter(w => !stopWords.has(w.toLowerCase()));
            }

            let slug = words.join(sep);

            // Trim sep
            if (slug.startsWith(sep)) slug = slug.substring(1);
            if (slug.endsWith(sep)) slug = slug.substring(0, slug.length - 1);

            output.innerText = slug;
        }

        function copySlug() {
            navigator.clipboard.writeText(output.innerText);
            alert("Slug å·²å¤åˆ¶!");
        }

        generate();
    </script>
</body>

</html>