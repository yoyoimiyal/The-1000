<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>超市比价助手</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-orange-50 min-h-screen flex flex-col items-center p-4 font-sans text-slate-700">

    <header class="w-full max-w-lg flex justify-between items-center mb-6 mt-4">
        <h1 class="text-2xl font-bold text-orange-600 flex items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3" />
            </svg>
            Price Compare
        </h1>
        <a href="./navigation.html" class="text-sm text-slate-400 hover:text-orange-600">退出</a>
    </header>

    <div class="w-full max-w-lg grid grid-cols-2 gap-4 mb-6">

        <!-- Item A -->
        <div class="bg-white p-4 rounded-2xl shadow-sm border-2 border-transparent transition" id="card-a">
            <h2 class="font-bold text-center text-slate-400 mb-4">商品 A</h2>

            <div class="space-y-3">
                <div>
                    <label class="block text-xs font-bold text-slate-400 uppercase">价格 (¥)</label>
                    <input type="number" id="price-a"
                        class="w-full p-2 bg-slate-50 rounded border border-slate-200 focus:border-orange-400 outline-none font-bold text-lg"
                        placeholder="0.00" oninput="calculate()">
                </div>
                <div>
                    <label class="block text-xs font-bold text-slate-400 uppercase">数量/重量</label>
                    <input type="number" id="unit-a"
                        class="w-full p-2 bg-slate-50 rounded border border-slate-200 focus:border-orange-400 outline-none"
                        placeholder="例如: 500" oninput="calculate()">
                </div>
            </div>

            <div class="mt-4 pt-4 border-t border-slate-100 text-center">
                <p class="text-xs text-slate-400">单价</p>
                <p class="text-xl font-bold text-slate-800" id="result-a">--</p>
            </div>
        </div>

        <!-- Item B -->
        <div class="bg-white p-4 rounded-2xl shadow-sm border-2 border-transparent transition" id="card-b">
            <h2 class="font-bold text-center text-slate-400 mb-4">商品 B</h2>

            <div class="space-y-3">
                <div>
                    <label class="block text-xs font-bold text-slate-400 uppercase">价格 (¥)</label>
                    <input type="number" id="price-b"
                        class="w-full p-2 bg-slate-50 rounded border border-slate-200 focus:border-orange-400 outline-none font-bold text-lg"
                        placeholder="0.00" oninput="calculate()">
                </div>
                <div>
                    <label class="block text-xs font-bold text-slate-400 uppercase">数量/重量</label>
                    <input type="number" id="unit-b"
                        class="w-full p-2 bg-slate-50 rounded border border-slate-200 focus:border-orange-400 outline-none"
                        placeholder="例如: 1000" oninput="calculate()">
                </div>
            </div>

            <div class="mt-4 pt-4 border-t border-slate-100 text-center">
                <p class="text-xs text-slate-400">单价</p>
                <p class="text-xl font-bold text-slate-800" id="result-b">--</p>
            </div>
        </div>

    </div>

    <!-- Conclusion -->
    <div class="w-full max-w-lg bg-white p-6 rounded-2xl shadow-lg border-l-4 border-orange-500 hidden"
        id="conclusion-card">
        <h3 class="font-bold text-lg mb-1" id="winner-title">商品 A 更划算!</h3>
        <p class="text-slate-500 text-sm" id="winner-detail">比另一种便宜 20%</p>
    </div>

    <div class="mt-8 text-center text-xs text-slate-400 max-w-xs leading-relaxed">
        提示：数量单位必须一致（例如都用克，或者都用个）。
    </div>

    <script>
        function calculate() {
            const pA = parseFloat(document.getElementById('price-a').value);
            const uA = parseFloat(document.getElementById('unit-a').value);
            const pB = parseFloat(document.getElementById('price-b').value);
            const uB = parseFloat(document.getElementById('unit-b').value);

            const resA = document.getElementById('result-a');
            const resB = document.getElementById('result-b');
            const cardA = document.getElementById('card-a');
            const cardB = document.getElementById('card-b');
            const conclusion = document.getElementById('conclusion-card');
            const winTitle = document.getElementById('winner-title');
            const winDetail = document.getElementById('winner-detail');

            let unitA = 0, unitB = 0;

            if (pA && uA) {
                unitA = pA / uA;
                resA.innerText = unitA.toFixed(4);
            } else {
                resA.innerText = "--";
                unitA = 0;
            }

            if (pB && uB) {
                unitB = pB / uB;
                resB.innerText = unitB.toFixed(4);
            } else {
                resB.innerText = "--";
                unitB = 0;
            }

            // Reset styles
            cardA.classList.remove('border-green-500', 'bg-green-50');
            cardB.classList.remove('border-green-500', 'bg-green-50');
            conclusion.classList.add('hidden');

            // Compare
            if (unitA > 0 && unitB > 0) {
                conclusion.classList.remove('hidden');

                if (unitA < unitB) {
                    cardA.classList.add('border-green-500', 'bg-green-50');
                    const diff = ((unitB - unitA) / unitB * 100).toFixed(1);
                    winTitle.innerText = "👉 商品 A 更划算";
                    winDetail.innerText = `每单位便宜约 ${diff}%`;
                    winTitle.className = "font-bold text-lg mb-1 text-green-600";
                    conclusion.className = "w-full max-w-lg bg-white p-6 rounded-2xl shadow-lg border-l-4 border-green-500";
                } else if (unitB < unitA) {
                    cardB.classList.add('border-green-500', 'bg-green-50');
                    const diff = ((unitA - unitB) / unitA * 100).toFixed(1);
                    winTitle.innerText = "👉 商品 B 更划算";
                    winDetail.innerText = `每单位便宜约 ${diff}%`;
                    winTitle.className = "font-bold text-lg mb-1 text-green-600";
                    conclusion.className = "w-full max-w-lg bg-white p-6 rounded-2xl shadow-lg border-l-4 border-green-500";
                } else {
                    winTitle.innerText = "🤝 单价相同";
                    winDetail.innerText = "两种商品性价比一样";
                    conclusion.className = "w-full max-w-lg bg-white p-6 rounded-2xl shadow-lg border-l-4 border-slate-300";
                    winTitle.className = "font-bold text-lg mb-1 text-slate-600";
                }
            }
        }
    </script>
</body>

</html>