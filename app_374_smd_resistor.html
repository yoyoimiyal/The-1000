<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è´´ç‰‡ç”µé˜»è®¡ç®—å™¨</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .resistor-chip {
            background-color: #111;
            color: #ddd;
            font-family: monospace;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: inset 0 0 10px #000;
            border-left: 10px solid #ccc;
            border-right: 10px solid #ccc;
        }
    </style>
</head>

<body class="bg-slate-50 min-h-screen flex flex-col items-center justify-center p-6 text-slate-800">

    <div class="w-full max-w-lg bg-white p-8 rounded-3xl shadow-xl border border-slate-200">

        <header class="flex justify-between items-center mb-8">
            <h1 class="text-xl font-bold text-slate-700 flex items-center gap-2">
                <span class="text-2xl">ğŸ“Ÿ</span> SMD Calculator
            </h1>
            <a href="./navigation.html" class="text-sm text-slate-400 hover:text-blue-600">é€€å‡º</a>
        </header>

        <!-- Visual -->
        <div class="flex justify-center mb-8">
            <div class="resistor-chip w-48 h-24 text-4xl font-bold rounded-md" id="chip-display">
                103
            </div>
        </div>

        <div class="space-y-6">

            <div>
                <label class="block text-xs font-bold text-slate-400 uppercase mb-2">è¾“å…¥ä»£ç  (Code)</label>
                <input type="text" id="input-code"
                    class="w-full p-4 border border-slate-300 rounded-xl outline-none focus:ring-2 focus:ring-blue-500 text-center text-2xl font-bold uppercase"
                    placeholder="e.g. 103, 4R7, 01C" value="103" oninput="calc()">
                <p class="text-center text-xs text-slate-400 mt-2">æ”¯æŒ 3/4 ä½æ•°ç åŠ EIA-96 æ ‡å‡†</p>
            </div>

            <div class="bg-blue-50 p-6 rounded-2xl border border-blue-100 text-center">
                <p class="text-xs font-bold text-blue-500 uppercase mb-1">é˜»å€¼ (Resistance)</p>
                <div class="text-5xl font-black text-blue-700 tracking-tight">
                    <span id="result-val">10</span> <span class="text-xl font-bold text-blue-500"
                        id="result-unit">kÎ©</span>
                </div>
                <p class="text-sm text-slate-500 mt-2" id="result-type">3-Digit Code</p>
            </div>

        </div>

        <div class="mt-8 grid grid-cols-3 gap-2 text-[10px] text-slate-400 text-center">
            <div class="bg-slate-100 p-2 rounded">
                <strong>103</strong><br>10 Ã— 10Â³ = 10kÎ©
            </div>
            <div class="bg-slate-100 p-2 rounded">
                <strong>4R7</strong><br>4.7 Î©
            </div>
            <div class="bg-slate-100 p-2 rounded">
                <strong>01C</strong> (EIA-96)<br>100 Ã— 100 = 10kÎ©
            </div>
        </div>

    </div>

    <script>
        const input = document.getElementById('input-code');
        const display = document.getElementById('chip-display');
        const resVal = document.getElementById('result-val');
        const resUnit = document.getElementById('result-unit');
        const resType = document.getElementById('result-type');

        // EIA-96 Table (Code -> Base Value)
        const eia96 = {
            '01': 100, '02': 102, '03': 105, '04': 107, '05': 110, '06': 113, '07': 115, '08': 118, '09': 121, '10': 124,
            '11': 127, '12': 130, '13': 133, '14': 137, '15': 140, '16': 143, '17': 147, '18': 150, '19': 154, '20': 158,
            '21': 162, '22': 165, '23': 169, '24': 174, '25': 178, '26': 182, '27': 187, '28': 191, '29': 196, '30': 200,
            '31': 205, '32': 210, '33': 215, '34': 221, '35': 226, '36': 232, '37': 237, '38': 243, '39': 249, '40': 255,
            '41': 261, '42': 267, '43': 274, '44': 280, '45': 287, '46': 294, '47': 301, '48': 309, '49': 316, '50': 324,
            '51': 332, '52': 340, '53': 348, '54': 357, '55': 365, '56': 374, '57': 383, '58': 392, '59': 402, '60': 412,
            '61': 422, '62': 432, '63': 442, '64': 453, '65': 464, '66': 475, '67': 487, '68': 499, '69': 511, '70': 523,
            '71': 536, '72': 549, '73': 562, '74': 576, '75': 590, '76': 604, '77': 619, '78': 634, '79': 649, '80': 665,
            '81': 681, '82': 698, '83': 715, '84': 732, '85': 750, '86': 768, '87': 787, '88': 806, '89': 825, '90': 845,
            '91': 866, '92': 887, '93': 909, '94': 931, '95': 953, '96': 976
        };
        const eiaMultipliers = {
            'Y': 0.01, 'X': 0.1, 'A': 1, 'B': 10, 'C': 100, 'D': 1000, 'E': 10000, 'F': 100000
        }; // Also R=0.01, S=0.1, Z=0.001 etc exists but strict EIA-96 uses letters

        function calc() {
            const code = input.value.toUpperCase().trim();
            display.innerText = code || "---";

            if (!code) {
                setResult("-", "", "Waiting...");
                return;
            }

            // Case 1: "R" decimal point (e.g. 4R7, R22)
            if (code.includes('R')) {
                const val = parseFloat(code.replace('R', '.'));
                setResult(val, "Î©", "Decimal (R)");
                return;
            }

            // Case 2: EIA-96 (2 digits + 1 letter)
            if (code.length === 3 && /^\d{2}[A-Z]$/.test(code)) {
                const digits = code.substring(0, 2);
                const letter = code.substring(2);

                if (eia96[digits] && eiaMultipliers[letter] !== undefined) {
                    const base = eia96[digits];
                    const mult = eiaMultipliers[letter];
                    const val = base * mult;
                    formatAndSet(val, "EIA-96 (1%)");
                    return;
                }
            }

            // Case 3: 3-Digit (Standard 5%)
            if (/^\d{3}$/.test(code)) {
                const base = parseInt(code.substring(0, 2));
                const mult = Math.pow(10, parseInt(code[2]));
                formatAndSet(base * mult, "3-Digit Code (5%)");
                return;
            }

            // Case 4: 4-Digit (Precision 1%)
            if (/^\d{4}$/.test(code)) {
                const base = parseInt(code.substring(0, 3));
                const mult = Math.pow(10, parseInt(code[3]));
                formatAndSet(base * mult, "4-Digit Code (1%)");
                return;
            }

            setResult("Invalid", "", "Unknown Format");
        }

        function formatAndSet(ohms, type) {
            let val = ohms;
            let unit = "Î©";

            if (ohms >= 1000000) {
                val = ohms / 1000000;
                unit = "MÎ©";
            } else if (ohms >= 1000) {
                val = ohms / 1000;
                unit = "kÎ©";
            }

            // Avoid long floats
            val = parseFloat(val.toFixed(3));
            setResult(val, unit, type);
        }

        function setResult(val, unit, type) {
            resVal.innerText = val;
            resUnit.innerText = unit;
            resType.innerText = type;
        }

        calc();
    </script>
</body>

</html>