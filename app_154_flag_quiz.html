<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å›½æ——å¤§æŒ‘æˆ˜</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .flag-img {
            width: 160px;
            height: auto;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            border: 1px solid #e5e7eb;
        }
    </style>
</head>

<body class="bg-blue-50 min-h-screen flex flex-col items-center justify-center p-4 select-none">

    <div
        class="w-full max-w-md bg-white p-8 rounded-3xl shadow-xl border border-blue-100 text-center relative overflow-hidden">

        <!-- Header -->
        <div class="flex justify-between items-center mb-8">
            <h1 class="text-xl font-bold text-blue-900">Flag Quiz</h1>
            <div class="text-sm font-bold text-blue-500">Score: <span id="score" class="text-blue-700 text-lg">0</span>
            </div>
        </div>

        <!-- Question -->
        <div class="flex justify-center mb-8 h-32 items-center">
            <img id="flag-img" class="flag-img rounded" src="" alt="Flag">
        </div>

        <!-- Options -->
        <div class="grid grid-cols-1 gap-3 mb-6" id="options">
            <!-- Buttons injected here -->
        </div>

        <!-- Result Overlay -->
        <div id="feedback"
            class="absolute inset-0 bg-white/95 backdrop-blur z-10 hidden flex-col items-center justify-center">
            <div class="text-6xl mb-4" id="fb-icon">ğŸ‰</div>
            <h2 class="text-2xl font-bold text-slate-800 mb-2" id="fb-title">Correct!</h2>
            <p class="text-slate-500 mb-6" id="fb-msg">It is China.</p>
            <button onclick="nextQuestion()"
                class="bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-full font-bold shadow-lg transition">Next
                Question</button>
        </div>

    </div>

    <div class="mt-8">
        <a href="./navigation.html" class="text-sm text-blue-400 hover:text-blue-600 underline">é€€å‡º</a>
    </div>

    <script>
        // Simplified flag dataset (Code: Name)
        // Using flagcdn.com for images
        const countries = [
            { code: 'cn', name: 'China (ä¸­å›½)' },
            { code: 'us', name: 'United States (ç¾å›½)' },
            { code: 'jp', name: 'Japan (æ—¥æœ¬)' },
            { code: 'kr', name: 'South Korea (éŸ©å›½)' },
            { code: 'gb', name: 'United Kingdom (è‹±å›½)' },
            { code: 'fr', name: 'France (æ³•å›½)' },
            { code: 'de', name: 'Germany (å¾·å›½)' },
            { code: 'it', name: 'Italy (æ„å¤§åˆ©)' },
            { code: 'ca', name: 'Canada (åŠ æ‹¿å¤§)' },
            { code: 'au', name: 'Australia (æ¾³å¤§åˆ©äºš)' },
            { code: 'br', name: 'Brazil (å·´è¥¿)' },
            { code: 'ru', name: 'Russia (ä¿„ç½—æ–¯)' },
            { code: 'in', name: 'India (å°åº¦)' },
            { code: 'es', name: 'Spain (è¥¿ç­ç‰™)' },
            { code: 'mx', name: 'Mexico (å¢¨è¥¿å“¥)' },
            { code: 'id', name: 'Indonesia (å°åº¦å°¼è¥¿äºš)' },
            { code: 'tr', name: 'Turkey (åœŸè€³å…¶)' },
            { code: 'sa', name: 'Saudi Arabia (æ²™ç‰¹é˜¿æ‹‰ä¼¯)' },
            { code: 'za', name: 'South Africa (å—é)' },
            { code: 'ar', name: 'Argentina (é˜¿æ ¹å»·)' }
        ];

        let currentQ = null;
        let score = 0;

        const flagImg = document.getElementById('flag-img');
        const optionsEl = document.getElementById('options');
        const scoreEl = document.getElementById('score');
        const feedbackEl = document.getElementById('feedback');
        const fbIcon = document.getElementById('fb-icon');
        const fbTitle = document.getElementById('fb-title');
        const fbMsg = document.getElementById('fb-msg');

        function nextQuestion() {
            feedbackEl.classList.add('hidden');
            feedbackEl.classList.remove('flex');

            // Random question
            currentQ = countries[Math.floor(Math.random() * countries.length)];
            flagImg.src = `https://flagcdn.com/w320/${currentQ.code}.png`;

            // Random options
            let opts = [currentQ];
            while (opts.length < 4) {
                const r = countries[Math.floor(Math.random() * countries.length)];
                if (!opts.includes(r)) opts.push(r);
            }
            opts.sort(() => Math.random() - 0.5);

            optionsEl.innerHTML = '';
            opts.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = "w-full py-3 bg-white border border-blue-100 hover:bg-blue-50 text-blue-900 font-bold rounded-xl transition shadow-sm text-sm";
                btn.innerText = opt.name;
                btn.onclick = () => checkAnswer(opt);
                optionsEl.appendChild(btn);
            });
        }

        function checkAnswer(selected) {
            feedbackEl.classList.remove('hidden');
            feedbackEl.classList.add('flex');

            if (selected.code === currentQ.code) {
                score += 10;
                fbIcon.innerText = "ğŸ‰";
                fbTitle.innerText = "å›ç­”æ­£ç¡®!";
                fbTitle.className = "text-2xl font-bold text-green-600 mb-2";
                fbMsg.innerText = `è¿™æ˜¯ ${currentQ.name}`;
            } else {
                score = Math.max(0, score - 5);
                fbIcon.innerText = "ğŸ˜…";
                fbTitle.innerText = "ç­”é”™äº†";
                fbTitle.className = "text-2xl font-bold text-red-500 mb-2";
                fbMsg.innerText = `æ­£ç¡®ç­”æ¡ˆæ˜¯: ${currentQ.name}`;
            }
            scoreEl.innerText = score;
        }

        // Init
        nextQuestion();
    </script>
</body>

</html>