<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÂÖâ‰∏éÂ¢®ÔºöÊ∑∑Ëâ≤ÂÆûÈ™åÂÆ§</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            position: absolute;
            mix-blend-mode: screen;
        }

        .circle-sub {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            position: absolute;
            mix-blend-mode: multiply;
        }

        .mode-btn.active {
            background-color: #3b82f6;
            color: white;
        }
    </style>
</head>

<body class="bg-slate-900 min-h-screen flex flex-col items-center justify-center p-6 text-white overflow-hidden">

    <header class="w-full max-w-4xl flex justify-between items-center mb-8 z-10">
        <h1 class="text-2xl font-bold flex items-center gap-2">
            üé® Color Mixer
        </h1>
        <div class="flex gap-2 bg-slate-800 p-1 rounded-lg">
            <button onclick="setMode('rgb')" id="btn-rgb"
                class="mode-btn px-4 py-1 rounded text-sm font-bold transition">RGB (ÂÖâ/Âä†Ëâ≤)</button>
            <button onclick="setMode('cmyk')" id="btn-cmyk"
                class="mode-btn px-4 py-1 rounded text-sm font-bold text-slate-400 hover:text-white transition">CMYK
                (Â¢®/ÂáèËâ≤)</button>
        </div>
        <a href="./navigation.html" class="text-sm text-slate-500 hover:text-white">ÈÄÄÂá∫</a>
    </header>

    <div class="flex flex-col md:flex-row gap-12 items-center w-full max-w-5xl">

        <!-- Simulation Area -->
        <div class="relative w-[300px] h-[300px] md:w-[400px] md:h-[400px] bg-black rounded-full border-4 border-slate-800 shadow-2xl flex items-center justify-center transition-colors duration-500"
            id="canvas-bg">
            <!-- Circles injected JS -->
            <div id="circles-container" class="relative w-full h-full"></div>
        </div>

        <!-- Controls -->
        <div class="flex-1 w-full max-w-sm space-y-6 bg-slate-800 p-6 rounded-2xl shadow-xl border border-slate-700">

            <div id="rgb-controls" class="space-y-4">
                <div>
                    <label class="flex justify-between text-xs font-bold text-red-500 uppercase mb-1">Red <span
                            id="r-val">255</span></label>
                    <input type="range" id="sl-r" min="0" max="255" value="255"
                        class="w-full accent-red-500 h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer"
                        oninput="updateRGB()">
                </div>
                <div>
                    <label class="flex justify-between text-xs font-bold text-green-500 uppercase mb-1">Green <span
                            id="g-val">0</span></label>
                    <input type="range" id="sl-g" min="0" max="255" value="0"
                        class="w-full accent-green-500 h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer"
                        oninput="updateRGB()">
                </div>
                <div>
                    <label class="flex justify-between text-xs font-bold text-blue-500 uppercase mb-1">Blue <span
                            id="b-val">0</span></label>
                    <input type="range" id="sl-b" min="0" max="255" value="0"
                        class="w-full accent-blue-500 h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer"
                        oninput="updateRGB()">
                </div>
            </div>

            <div id="cmyk-controls" class="space-y-4 hidden">
                <div>
                    <label class="flex justify-between text-xs font-bold text-cyan-400 uppercase mb-1">Cyan <span
                            id="c-val">0</span></label>
                    <input type="range" id="sl-c" min="0" max="255" value="0"
                        class="w-full accent-cyan-400 h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer"
                        oninput="updateCMYK()">
                </div>
                <div>
                    <label class="flex justify-between text-xs font-bold text-fuchsia-400 uppercase mb-1">Magenta <span
                            id="m-val">255</span></label>
                    <input type="range" id="sl-m" min="0" max="255" value="255"
                        class="w-full accent-fuchsia-400 h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer"
                        oninput="updateCMYK()">
                </div>
                <div>
                    <label class="flex justify-between text-xs font-bold text-yellow-400 uppercase mb-1">Yellow <span
                            id="y-val">255</span></label>
                    <input type="range" id="sl-y" min="0" max="255" value="255"
                        class="w-full accent-yellow-400 h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer"
                        oninput="updateCMYK()">
                </div>
            </div>

            <div class="pt-4 border-t border-slate-700 text-center">
                <p class="text-xs text-slate-400 mb-2">‰∏≠ÂøÉÊ∑∑ÂêàËâ≤ (Center Mix)</p>
                <div id="result-swatch"
                    class="w-full h-12 rounded-lg bg-black border border-white/20 shadow-inner flex items-center justify-center font-mono font-bold text-sm text-white/80 shadow-[inset_0_0_10px_rgba(0,0,0,0.5)]">
                    #000000
                </div>
            </div>

        </div>

    </div>

    <script>
        let currentMode = 'rgb';
        const container = document.getElementById('circles-container');
        const bg = document.getElementById('canvas-bg');
        const swatch = document.getElementById('result-swatch');

        function setMode(mode) {
            currentMode = mode;
            document.getElementById('btn-rgb').className = `mode-btn px-4 py-1 rounded text-sm font-bold transition ${mode === 'rgb' ? 'active' : 'text-slate-400 hover:text-white'}`;
            document.getElementById('btn-cmyk').className = `mode-btn px-4 py-1 rounded text-sm font-bold transition ${mode === 'cmyk' ? 'active' : 'text-slate-400 hover:text-white'}`;

            if (mode === 'rgb') {
                document.getElementById('rgb-controls').classList.remove('hidden');
                document.getElementById('cmyk-controls').classList.add('hidden');
                bg.style.backgroundColor = 'black'; // Additive starts black
                updateRGB();
            } else {
                document.getElementById('rgb-controls').classList.add('hidden');
                document.getElementById('cmyk-controls').classList.remove('hidden');
                bg.style.backgroundColor = 'white'; // Subtractive starts white
                updateCMYK();
            }
        }

        function updateRGB() {
            const r = document.getElementById('sl-r').value;
            const g = document.getElementById('sl-g').value;
            const b = document.getElementById('sl-b').value;

            document.getElementById('r-val').innerText = r;
            document.getElementById('g-val').innerText = g;
            document.getElementById('b-val').innerText = b;

            container.innerHTML = `
                <div class="circle" style="background-color: rgb(${r}, 0, 0); top: 20%; left: 50%; transform: translateX(-50%);"></div>
                <div class="circle" style="background-color: rgb(0, ${g}, 0); bottom: 20%; left: 25%;"></div>
                <div class="circle" style="background-color: rgb(0, 0, ${b}); bottom: 20%; right: 25%;"></div>
            `;

            // Calculate Mix (Additive: max)
            // Actually CSS mix-blend-mode: screen handles visual.
            // Mathematical mix of max values?
            // R+G+B
            // Correct RGB mixing logic: (r,0,0) + (0,g,0) + (0,0,b) = (r,g,b)
            updateSwatch(r, g, b);
        }

        function updateCMYK() {
            const c = document.getElementById('sl-c').value; // 0-255 scaling for display logic
            const m = document.getElementById('sl-m').value;
            const y = document.getElementById('sl-y').value;

            document.getElementById('c-val').innerText = c;
            document.getElementById('m-val').innerText = m;
            document.getElementById('y-val').innerText = y;

            // CMYK mixing uses multiply.
            // Cyan absorbs Red. Magenta absorbs Green. Yellow absorbs Blue.
            // White - C = R? No.
            // RGB = (255-C, 255-M, 255-Y) simplified.

            container.innerHTML = `
                <div class="circle-sub" style="background-color: rgb(${255 - c}, 255, 255); top: 20%; left: 50%; transform: translateX(-50%);"></div>
                <div class="circle-sub" style="background-color: rgb(255, ${255 - m}, 255); bottom: 20%; left: 25%;"></div>
                <div class="circle-sub" style="background-color: rgb(255, 255, ${255 - y}); bottom: 20%; right: 25%;"></div>
            `;

            // Subtractive mix center
            // R = 255 - C
            // G = 255 - M
            // B = 255 - Y
            updateSwatch(255 - c, 255 - m, 255 - y);
        }

        function updateSwatch(r, g, b) {
            // Clamp
            r = Math.max(0, Math.min(255, parseInt(r)));
            g = Math.max(0, Math.min(255, parseInt(g)));
            b = Math.max(0, Math.min(255, parseInt(b)));

            const hex = "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1).toUpperCase();
            swatch.style.backgroundColor = `rgb(${r},${g},${b})`;
            swatch.innerText = hex;
            // Contrast text color
            const luma = 0.2126 * r + 0.7152 * g + 0.0722 * b;
            swatch.style.color = luma > 128 ? 'black' : 'white';
        }

        // Init
        setMode('rgb');
    </script>
</body>

</html>